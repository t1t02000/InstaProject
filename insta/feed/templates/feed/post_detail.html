{% extends 'base.html' %} {% block title %}Detalle de publicaci√≥n | Instagram
Clone
{% endblock %} 
{% block content %}
<div class="post-detail">
  <div class="post-header">
    <a href="{% url 'feed:profile' post.author.username %}">
      <img
        src="{{ post.author.profile.profile_picture.url }}"
        class="profile-pic"
        width="40"
        height="40"
        style="border-radius: 50%; vertical-align: middle"
      />
      {{ post.author.username }}
    </a>
    <span style="float: right; color: #999; font-size: 0.9em"
      >{{ post.created_at|date:"d M Y H:i" }}</span
    >
  </div>
  <div class="post-image">
    <img
      src="{{ post.image.url }}"
      alt="post image"
      style="width: 100%; max-height: 400px; object-fit: cover"
    />
  </div>
  <div class="post-caption">
    <b>{{ post.author.username }}</b> {{ post.caption }}
  </div>
  <div class="post-actions">
    <form
      action="{% url 'feed:like_post' post.pk %}"
      method="post"
      style="display: inline"
    >
      {% csrf_token %}
      <button type="submit">
        {% if user in post.likes.all %}‚ù§Ô∏è{% else %}ü§ç{% endif %}
      </button>
    </form>
    <span>{{ post.likes.count }} Me gusta</span>
  </div>
  <hr />
  <h4>Comentarios</h4>
  <div class="comments">
    {% for comment in comments %}
    <div class="comment">
      <b>{{ comment.user.username }}</b>: {{ comment.text }}
      <span style="color: #999; font-size: 0.8em"
        >{{ comment.created_at|date:"d M Y H:i" }}</span
      >
    </div>
    {% empty %}
    <p>No hay comentarios.</p>
    {% endfor %}
  </div>
  <form method="post">
    {% csrf_token %} {{ comment_form.as_p }}
    <button type="submit">Comentar</button>
  </form>
</div>
{% endblock %} {% extends 'base.html' %} {% block title %}Detalle de publicaci√≥n
| Instagram Clone{% endblock %} {% block content %}
<div class="card mb-4">
  <div class="card-header d-flex align-items-center">
    <img
      src="{{ post.author.profile.profile_picture.url }}"
      class="rounded-circle me-2"
      width="40"
      height="40"
      alt="profile"
    />
    <a
      href="{% url 'feed:profile' post.author.username %}"
      class="fw-bold text-dark text-decoration-none"
      >{{ post.author.username }}</a
    >
    <span class="ms-auto text-muted small"
      >{{ post.created_at|date:"d M Y H:i" }}</span
    >
  </div>
  <img src="{{ post.image.url }}" class="card-img-top" alt="post image" />
  <div class="card-body">
    <p class="card-text">
      <b>{{ post.author.username }}</b> {{ post.caption }}
    </p>
    <form
      action="{% url 'feed:like_post' post.pk %}"
      method="post"
      class="d-inline"
    >
      {% csrf_token %}
      <button type="submit" class="btn btn-link p-0">
        {% if user in post.likes.all %}‚ù§Ô∏è{% else %}ü§ç{% endif %}
      </button>
    </form>
    <span>{{ post.likes.count }} Me gusta</span>
  </div>
  <div class="card-footer">
    <h5>Comentarios</h5>
    {% for comment in comments %}
    <div class="mb-2">
      <b>{{ comment.user.username }}</b>: {{ comment.text }}
      <span class="text-muted small"
        >{{ comment.created_at|date:"d M Y H:i" }}</span
      >
    </div>
    {% empty %}
    <div class="alert alert-info">No hay comentarios.</div>
    {% endfor %}
    <form method="post" class="mt-3">
      {% csrf_token %} {{ comment_form.as_p }}
      <button type="submit" class="btn btn-primary">Comentar</button>
    </form>
  </div>
</div>
{% endblock %}
