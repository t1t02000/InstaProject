{% extends 'base.html' %} {% block title %}Perfil | Instagram Clone
{% endblock%} {% block content %}
<div class="profile-header">
  <img
    src="{{ profile_user.profile.profile_picture.url }}"
    class="rounded-circle mb-2"
    width="100"
    height="100"
    alt="profile"
  />
  <h2>{{ profile_user.username }}</h2>
  <p>{{ profile_user.profile.bio }}</p>
  <p>
    <b>{{ profile_user.profile.get_followers_count }}</b> seguidores |
    <b>{{ profile_user.profile.get_following_count }}</b> seguidos
  </p>
  {% if request.user != profile_user %}
  <form
    action="{% url 'feed:follow_toggle' profile_user.username %}"
    method="post"
    class="d-inline"
  >
    {% csrf_token %}
    <button type="submit" class="btn btn-primary">
      {% if is_following %}Dejar de seguir{% else %}Seguir{% endif %}
    </button>
  </form>
  {% else %}
  <a href="{% url 'feed:edit_profile' %}" class="btn btn-outline-secondary"
    >Editar perfil</a
  >
  {% endif %}
</div>
<hr />
<h3>Publicaciones</h3>
<div class="profile-posts">
  {% for post in posts %}
  <div class="profile-post">
    <a href="{% url 'feed:post_detail' post.pk %}">
      <img
        src="{{ post.image.url }}"
        class="img-fluid rounded"
        alt="post image"
      />
    </a>
  </div>
  {% empty %}
  <div class="col-12">
    <div class="alert alert-info">No hay publicaciones.</div>
  </div>
  {% endfor %}
</div>
{% endblock %}
